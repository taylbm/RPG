###
### index.mako - this is the main page for the dashboard
###

<%!
    inherit_layout = True 
    layout_name = "layout.mako" 
    page_id = 'main-page'
    page_title = 'demo-page'
    page_classes = ''
%>

###
### inheritence chain
###

<%inherit file="page.mako" />

###
### namespaces
###

###
### blocks
###

<%block name="extra_header_markup">


<script type="text/javascript">
    tday=new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday");
    tmonth=new Array("January","February","March","April","May","June","July","August","September","October","November","December");
    smonth=new Array("Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec");
    function GetClock(){
    var d=new Date();
    var nday=d.getUTCDay(),nmonth=d.getUTCMonth(),ndate=d.getUTCDate(),nyear=d.getUTCFullYear();
    if(nyear<1000) nyear+=1900;
    var d=new Date();
    var nhour=d.getUTCHours(),nmin=d.getUTCMinutes(),nsec=d.getUTCSeconds();
    if(nmin<=9) nmin="0"+nmin
    if(nsec<=9) nsec="0"+nsec;
   $('#clockbox-date').html(""+tday[nday]+", "+tmonth[nmonth]+" "+ndate+", "+nyear);
   $('#clockbox-time').html(""+nhour+":"+nmin+":"+nsec+" "+"UT");
   $('#VCP_start_date').html("VCP START: "+smonth[nmonth]+" "+ndate+", "+nyear+'&nbsp');
}

window.onload=function(){
GetClock();
setInterval(GetClock,1000);
}
</script>


<script>
var current_wxstatus = new Array; current_wxstatus[1] = 'B'; current_wxstatus[2] = 'A';
var RS_SUPER_RES = new Array();RS_SUPER_RES[2] = 'on';RS_SUPER_RES[4] = 'off';
var RS_CMD = new Array();RS_CMD[0] = 'off';RS_CMD[1] = 'on';
var RS_AVSET = new Array(); RS_AVSET[2] = 'on';RS_AVSET[4] = 'off';
RS_TOGGLE = {'RS_SUPER_RES':RS_SUPER_RES,'RS_CMD':RS_CMD,'RS_AVSET':RS_AVSET};
var actionflag = {} 
function toRadians(deg) {
return deg * Math.PI / 180
}
$(document).ready(function(){
	$(".control-item").css('background-color','#1F497D','color','#FFFFFF');
	$(".nav-item").css('background-color','#002060');

var canvas=document.getElementById("radome");
var maincircle=canvas.getContext("2d");
maincircle.fillStyle="white";maincircle.arc(150,150,135,0,2*Math.PI);maincircle.fill();
maincircle.beginPath();maincircle.arc(150,150,135,0,2*Math.PI);maincircle.lineWidth=3;maincircle.strokeStyle="black";maincircle.stroke();
maincircle.fillStyle="black";maincircle.beginPath();maincircle.moveTo(150,150);maincircle.arc(150,150,135,-Math.PI / 2,Math.PI);
maincircle.lineTo(150,150);
maincircle.closePath();
maincircle.fill();
maincircle.fillStyle="white";maincircle.beginPath();maincircle.arc(150,150,120,0,2*Math.PI);maincircle.fill();
maincircle.fillStyle="#FFFFFF";
	maincircle.font = "bold 80px Helvetica";
	maincircle.fillStyle = 'black';
	maincircle.fillText("0.5",100,120);
	maincircle.strokeRect(60,290,180,54)
	maincircle.strokeRect(60,344,180,54)
	maincircle.beginPath();
	maincircle.moveTo(60,290)
	maincircle.lineTo(240,344)
	maincircle.moveTo(60,344)
	maincircle.lineTo(240,290)
	maincircle.moveTo(60,344)
	maincircle.lineTo(240,398)
	maincircle.moveTo(60,398)
	maincircle.lineTo(240,344)
	maincircle.fillStyle = '#5B575B';
	maincircle.fillRect(115, 329, 70, 30);
	maincircle.strokeRect(115, 329, 70, 30);
	maincircle.fillStyle = 'black';
	maincircle.font = "bold 18px Helvetica";
	maincircle.fillText("SAILS:",50,160)
	maincircle.fillText("AVSET:",50,210)
	maincircle.shadowColor = "black"; 
	maincircle.shadowOffsetX = 2;
	maincircle.shadowOffsetY = 2; 
	maincircle.shadowBlur = 5;
	maincircle.fillStyle = 'white';
	maincircle.stroke();
	maincircle.beginPath();
	maincircle.lineWidth = 5;
	maincircle.moveTo(150,358)
	maincircle.lineTo(150,400)
	maincircle.moveTo(150,285)
	maincircle.lineTo(150,330)
	maincircle.shadowColor = "transparent"
	maincircle.moveTo(240,393)
	maincircle.lineTo(300,393)
	maincircle.stroke();
	document.getElementById("radome").style.zIndex = 1;
	$(".toggle").on('slidestop',function(){		
		var controlname = $(this).attr("id")
		var displayname = $(this).attr("alt")
		$.getJSON("/update",function(data){
                	actionflag[controlname] = data['RPG_dict']['ORPGVST']
                });
		var current = $(this).val();	
		var cancel;var confirmation;
		if (current=="on"){cancel = "off";confirmation = "on"}else{cancel="on";confirmation="off"}
		if (controlname == "PRF_Mode"){
                	$("#prf_control").click();
                }
		else {
			if (['SAILS','AVSET','CMD','Super-Res','SAILS-Exception','AVSET-Exception'].indexOf(displayname) >=0){
				if(displayname == "CMD" || displayname == "Super-Res"){
                                	$('#'+controlname+'_contain .ui-slider-label-a').removeClass('normal-ops').addClass('minor-alarm')
                                }  
				var child1 = $(this).find("option:first-child").html()
				$('#popup-link').click();
				if (current=="on"){
                			$("#id-confirm").html('You are about to enable '+displayname+'. Change will not take effect until the next start of volume scan. Do you want to continue?')
                		}
                		else{
					$("#id-confirm").html('Are you sure you want to change '+displayname+' to '+child1+' ?')
				}
                		$("#pop-cancel").on('click',function(){	
					$('#'+displayname+'_Exception').val(cancel).slider('refresh');
                		});                     
                		$("#pop-confirm").on('click',function(){
					if (displayname=="SAILS" || displayname=="SAILS-Exception"){
						if (confirmation == "on"){
							$('#SAILS_Exception_contain .ui-slider .ui-slider-label-a').text('PENDING')
							$('#RPG_SAILS').val('on').slider('refresh')
							$('#SAILS_Exception').val('on').slider('refresh')
							$('#SAILS_Exception_contain').addClass('hide')
							$('#RPG_SAILS_contain .ui-slider .ui-slider-label-a').text('PENDING')	
						}	
						else{
                                                        $('#RPG_SAILS').val('off').slider('refresh')
                                                        $('#SAILS_Exception').val('off').slider('refresh')
                                                        $('#SAILS_Exception_contain').removeClass('hide')
						}
					}
					if (displayname=="AVSET" || displayname=="AVSET-Exception"){	
						if (confirmation=="on"){
                                        		$('#AVSET_Exception_contain .ui-slider .ui-slider-label-a').text('PENDING')
                                                	$('#RS_AVSET').val('on').slider('refresh')
                                                	$('#AVSET_Exception').val('on').slider('refresh')
                                                	$('#AVSET_Exception_contain').addClass('hide')
                                                	$('#RS_AVSET_contain .ui-slider .ui-slider-label-a').text('PENDING')        
                                        	}
						else{
							$('#RS_AVSET').val('off').slider('refresh')
                                                        $('#AVSET_Exception').val('off').slider('refresh')
                                                        $('#AVSET_Exception_contain').removeClass('hide')
                                                }
					}


					
                        		$("#"+controlname).val(confirmation).slider('refresh');
					$('#'+displayname+'_Exception').val(confirmation).slider('refresh');
                		});

			
			}
			else{
				$("#popup-link").click();
				var child1 = $(this).find("option:first-child").html()
				var child2 = $(this).find("option:last-child").html()
				if (current=="on"){
					$("#id-confirm").html('Are you sure you want to change '+displayname +' to '+child2+' ?')
				}
				else{
					$("#id-confirm").html('Are you sure you want to change '+displayname+' to '+child2+' ?')
				}
				$("#pop-cancel").on('click',function(){
					$("#"+controlname).val(cancel).slider('refresh')
				});			
				$("#pop-confirm").on('click',function(){
					$("#"+controlname).val(confirmation).slider('refresh')
				});
		    	}
		}


	});
	var link = $('#squaresWaveG_long').html()
	var item = Object.keys(RS_TOGGLE);
	$.getJSON("/update",function(data){
		maincircle.fillText(data['ADAPT']['ICAO'],125,350)
	});		
	setInterval(function (){	
		$.getJSON("/update",function(data){
			var flags = Object.keys(actionflag)
                       	for (flag in flags){
                        	if(actionflag[flags[flag]] != data['RPG_dict']['ORPGVST']){
                                	delete actionflag[flags[flag]]
                                }
                        }
			if (data['RS_dict']['latest_alarm']['alarm_status']){
				$('#marq3').html(data['RS_dict']['latest_alarm']['timestamp']+' >> RDA ALARM ACTIVATED: '+data['RS_dict']['latest_alarm']['text']).attr('class','bar-border minor-alarm')
			}
			else{
				$('#marq3').html(data['RS_dict']['latest_alarm']['timestamp']+' >> RDA ALARM CLEARED: '+data['RS_dict']['latest_alarm']['text']).attr('class','bar-border normal-ops')
			}	
			$('#VCP_start_time').html(" "+data['RPG_dict']['ORPGVST'])
			if(Object.keys(actionflag).indexOf('Model_Update') < 0){
				if(data['PMD_dict']['model_update']){
					$('#Model_Update').val('on').slider('refresh');
					$('#Model_Update_contain').addClass('hide')
				}
				else{
					$('#Model_Update').val('off').slider('refresh');
					$('#Model_Update_contain').removeClass('hide')
				}
			}
			if(Object.keys(actionflag).indexOf('VAD_Update') < 0){
				if(data['PMD_dict']['vad_update']){
					$('#VAD_Update').val('on').slider('refresh');
					$('#VAD_Update_contain').addClass('hide')
				}
                        	else{
				$('#VAD_Update').val('off').slider('refresh');
				$('#VAD_Update_contain').removeClass('hide')
				}	
			}
                        if(data['PMD_dict']['mode_conflict']){
				$("#Mode_Conflict_contain").html('YES').removeClass('normal-ops').addClass('minor-alarm');
				$("#Mode_Conflict_status").removeClass('hide')
			}
                        else{
				$("#Mode_Conflict_contain").html('NO').removeClass('minor-alarm').addClass('normal-ops');
				$("#Mode_Conflict_status").addClass('hide')
			}
			var state = Object.keys(data['RS_dict']['RDA_static']);
			if (Object.keys(actionflag).indexOf('SAILS_Exception') >= 0 || Object.keys(actionflag).indexOf('RPG_SAILS') >= 0){}
			else{
				if(data['RPG_dict']['allow_sails'][data['RS_dict']['RS_VCP_NUMBER']]){
					if (data['RPG_dict']['RPG_SAILS']){
						$('#RPG_SAILS').val('on').slider('refresh');
                                                $('#RPG_SAILS_contain .ui-slider .ui-slider-label-a').text('ACTIVE/'+data['RPG_dict']['sails_cuts'])
						$('#SAILS_Exception').val('on').slider('refresh');
						$('#SAILS_Exception_contain').addClass('hide');
					}
					else{
						$('#RPG_SAILS').val('off').slider('refresh');
						$('#SAILS_Exception').val('off').slider('refresh');
						$('#SAILS_Exception_contain').removeClass('hide');
					}
				}
				else{
					if(data['RPG_dict']['RPG_SAILS']){
						$('#RPG_SAILS_contain .ui-slider .ui-slider-label-a').text('INACTIVE')
						$('#SAILS_Exception').val('on').slider('refresh');
                                       		$('#SAILS_Exception_contain').addClass('hide');
					}
					else{
						$('#RPG_SAILS').val('off').slider('refresh');
                                        	$('#SAILS_Exception').val('off').slider('refresh');
                                        	$('#SAILS_Exception_contain').addClass('hide');
					}
				}

			}	
		
			if (Object.keys(actionflag).indexOf('RS_AVSET') >=0 ||Object.keys(actionflag).indexOf('AVSET_Exception') >=0){}
			else{
				$('#AVSET_Exception').val(RS_AVSET[data['RS_dict']['RS_AVSET']]).slider('refresh')
				if(RS_AVSET[data['RS_dict']['RS_AVSET']] =='on'){
					$('#AVSET_Exception_contain').addClass('hide')
				}
				else{
					$('#AVSET_Exception_contain').removeClass('hide')
				}
			}	
			for (i in item){
				var value = item[i]
				var retrieved = RS_TOGGLE[value][data['RS_dict'][value]]
				if (value == "RS_AVSET" & (Object.keys(actionflag).indexOf('RS_AVSET') >=0 ||Object.keys(actionflag).indexOf('AVSET_Exception') >=0)){
				}
				else{
					if (retrieved == "on"){$("#"+value+"_status").addClass('hide')}
					$("#"+value).val(retrieved).slider("refresh")
				}
			}
			
			for (b in state){
				var value2 = state[b];
				$("#"+value2).html(data['RS_dict']['RDA_static'][value2])
				switch (data['RS_dict']['RDA_static'][value2]){
					case 'OPERATE': case 'ONLINE': case 'OK': case 'STARTUP':
						$("#"+value2).attr('class','normal-ops bar-border2');
						$('#'+value2+'_label').attr('class','bar-border1 show');	
						$('#grid1').attr('class','normal-ops');
						$('#grid1title').attr('class','normal-ops');
						break;
					case 'NOT_INSTALLED':
						$('#'+value2).attr('class','bar-border2 hide');$('#'+value2+'_label').attr('class','bar-border1 hide');
						break;
					case 'MAINTENANCE_MAN':
						$("#grid1").attr('class','major-alarm');
						$("#"+value2).attr('class','bar-border2 major-alarm');
						break;
					case 'MAINTENANCE_REQ':
						$("#grid1").attr('class','minor-alarm');
						$("#"+value2).attr('class','bar-border2 minor-alarm');
						break;
					case 'UNKNOWN':
						$("#"+value2).attr('class','bar-border2 inop-indicator');
						break;
					case 'INOPERABLE,-9999':
						$('#'+value2).attr('class','bar-border2 inop-indicator');
						$('#grid1').attr('class','inop');
						$('#grid1title').attr('class','inop');
						break;
					case 'N/A':
						$('#'+value2).html('N/A');
						break;
				}
			}
			var all_alarms = data['RS_dict']['RDA_alarms_all']
			var current_alarms = data['RS_dict']['RDA_static']['RS_RDA_ALARM_SUMMARY_LIST'].split('<br>') 
			for (alarm in current_alarms){
				$('#'+current_alarms[alarm]).addClass('show')
				var i = all_alarms.indexOf(alarm);
				if (i != -1) { 
					all_alarms.splice(i,1);
				}
			}
			for (a in all_alarms){
				$('#'+all_alarms[a]).addClass('hide')
			};
			switch(data['ADAPT']['ZR_mult']){
				case 300.0:
					$('#Z-R').html('CONVECTIVE')
					break;
				case 250.0:
					$('#Z-R').html('TROPICAL')
					break;
				case 200.0:
					$('#Z-R').html('MARSHALL-PALMER')
                                        break;
                                case 130.0:
                                        $('#Z-R').html('EAST-COOL STRATIFORM')
                                        break;
                                case 75.0:
                                        $('#Z-R').html('WEST-COOL STRATIFORM')
                                        break;
			}
			switch(data['RS_dict']['RDA_static']['CONTROL_STATUS']){
				case 'RPG_REMOTE':	
					$('#CONTROL_STATUS').html('RPG')
					break;
				case 'LOCAL_ONLY':
					$('#CONTROL_STATUS').html('RDA')
					break;
                                case 'EITHER':
                                        $('#CONTROL_STATUS').html('EITHER')
					break;
			}
			if(Object.keys(actionflag).indexOf('PRF_Mode') < 0){
				switch(data['PMD_dict']['prf']){
					case 'CELL_BASED': case 'STORM_BASED':
						$('#PRF_Mode_contain .ui-slider .ui-slider-label-a').text('MULTI')
						$('#PRF_Mode').val('on').slider('refresh')
						$('#PRF_Mode_block').attr('class','hide')
						break;
					case 'AUTO_PRF':
                                        	$('#PRF_Mode_contain .ui-slider .ui-slider-label-a').text('AUTO')
                                        	$('#PRF_Mode').val('on').slider('refresh')
						$('#PRF_Mode_block').attr('class','hide')
						break;
					case 'MANUAL_PRF':
						$('#PRF_Mode').val('off').slider('refresh')
						$('#PRF_Mode_block').attr('class','show')
						break;
				}
			}
			if(Object.keys(actionflag).indexOf('Precip_Switch') < 0){
				if(data['RPG_dict']['auto_mode'][0]){
					$('#Precip_Switch').val('on').slider('refresh')
				}
                        	else{
					$('#Precip_Switch').val('off').slider('refresh')
				}
			}
			if(Object.keys(actionflag).indexOf('Clear_Air_Switch') < 0){
                        	if(data['RPG_dict']['auto_mode'][1]){
					$('#Clear_Air_Switch').val('on').slider('refresh')
				}
                        	else{
					$('#Clear_Air_Switch').val('off').slider('refresh')
				}
			}
			if(data['RS_dict']['RDA_static']['RS_RDA_ALARM_SUMMARY_LIST'] == 'NO_ALARM'){$('#grid1').addClass('normal-ops')}
			if(data['RPG_dict']['auto_mode'][0]){$('#Precip_Switch_status').addClass('hide')}
			if(data['RPG_dict']['auto_mode'][1]){$('#Clear_Air_Switch_status').addClass('hide')}	
			var gen_list = data['RS_dict']['RDA_static']['AUX_GEN_LIST'].split('<br>')
			if (gen_list[gen_list.length-1]=='false'){$('#gen_state').addClass('hide')}
			$("#gen_level").attr('value',data['PMD_dict']['cnvrtd_gnrtr_fuel_lvl'])	
			$("#gen_level_num").html(data['PMD_dict']['cnvrtd_gnrtr_fuel_lvl']+'%')
			$("#RS_VCP_NUMBER").html(data['RS_dict']['RS_VCP_NUMBER'])
			$("#perf_check_time").html(data['PMD_dict']['perf_check_time'][0]).css('background-color',data['PMD_dict']['perf_check_time'][1])
			$('#RPG_state').html(data['RPG_dict']['RPG_state'])
			$('#RPG_oper').html(data['RPG_dict']['RPG_op'].split(',')[0])	
			$('#Z-ZDR').html(data['ADAPT']['ptype'])
			switch (data['RPG_dict']['RPG_op'].split(',')[0]){
				case 'CMDSHDN':
					$('#RPG_oper').attr('class','minor-alarm bar-border2')
					break;
				case 'LOADSHED': case 'MAR':
					$('#RPG_oper').attr('class','minor-alarm bar-border2')
					$('#grid2').attr('class','minor-alarm')
					break;
				case 'MAM':
					$('#RPG_oper').attr('class','major-alarm bar-border2')
					$('#grid2').attr('class','major-alarm')
					break;
				case 'ONLINE':
					if(data['RPG_dict']['RPG_alarms'] == 'NONE'){$('#grid2').attr('class','normal-ops')}
					$('#RPG_oper').attr('class','normal-ops bar-border2')
					break;
				default:
					$('#RPG_oper').attr('class','inop-indicator bar-border2')
					$('#grid2').attr('class','normal-ops')
			}
			switch(data['RPG_dict']['RPG_state']){
			
				case 'OPER': 
					$('#RPG_state').attr('class','bar-border2 normal-ops');
					break;
				case 'RESTART': case 'STANDBY': 
					$('#RPG_state').attr('class','bar-border2 inop-indicator');
					break;
				case 'TEST':
					$('#RPG_state').attr('class','bar-border2 minor-alarm');
					break;
				case 'SHUTDOWN':
					$('#RPG_state').addClass('inop-indicator')
					break;		
			};
			if (data['RS_dict']['RDA_static']['WIDEBAND'] == "CONNECTED"){
				if ($('#squaresWaveG_long').html() != link){
					var links = data['RS_dict']['RDA_static']['DATA_TRANS']
					for (l in links){
						var letter = links[l]
						$('.link-status'+letter).removeClass('major-alarm');
						$('.link-status'+letter).removeClass('minor-alarm');
						$('.link-status'+letter).html(link).addClass('normal-ops');
						$('#link_'+letter).html(letter).attr('class','link-status-sq normal-ops');
					}
				 }
			}

			else{
				switch (data['RS_dict']['RDA_static']['WIDEBAND']){
					case 'WBFAILURE': case 'DOWN': case 'NOT_IMPLEMENTED':
						var word = data['RS_dict']['RDA_static']['WIDEBAND'].split('_')
						var word_l = word.length-1
						for (w = 0;w < 4; w++){
							if(w > word_l){$('.status'+w).html('').addClass('major-alarm')}
							else{$('.status'+w).html(word[w]).addClass('major-alarm')}
						}
						$('.link-status-sq').html('X').addClass('major-alarm')
					case 'CONNECT_PENDING': case 'DISCONNECTED_CM': case 'DISCONNECTED_HC': case 'DISCONNECTED_RMS': case 'DISCONNECT_PENDING': case 'DISCONNECTED_SHUTDOWN':
						var word = data['RS_dict']['RDA_static']['WIDEBAND'].split('_')
						var word_l = word.length-1
						for (w = 0;w < 4; w++){
							if(w > word_l){$('.status'+w).html('').addClass('minor-alarm')}
							else{$('.status'+w).html(word[w]).addClass('minor-alarm')}
						}
						$('.link-status-sq').html('X').addClass('minor-alarm')
				}
			}
			if(data['PMD_dict']['h_delta_dbz0'] >= 1.5){$('#h_delta_dbz0').addClass('minor-alarm')}
			else{$('#h_delta_dbz0').addClass('normal-ops')}
			if(data['PMD_dict']['v_delta_dbz0'] >= 1.5){$('#v_delta_dbz0').addClass('minor-alarm')}
			else{$('#v_delta_dbz0').addClass('normal-ops')}
			$('#h_delta_dbz0').html(data['PMD_dict']['h_delta_dbz0']+'dB')			
			$('#v_delta_dbz0').html(data['PMD_dict']['v_delta_dbz0']+'dB')			
		});
		
		
	},1000);


	$('#refreshPage').click(function(){
		location.reload()
	});
	$('#Mode_Conflict_contain').click(function(){
		window.location="button?id=hci_mode_status"
		window.location="/"
	});
	$('#link').click(function(){
		window.location="button?id=hci_rda_link"
		window.location="/"
	});
	$('#rda_control').click(function(){
		window.location="/button?id=hci_rdc_orda"
		window.location="/"
	});
	$('#perf_check_time_link').click(function(){
		window.location="/button?id=hci_rdc_orda"
		window.location="/"
	});
	$('#rda_perf').click(function(){
		window.location="/button"
		window.location="/"
	});
	$('#rda_alarms').click(function(){
		window.location="/button?id=hci_rda_orda"
		window.location="/"
	});	
	
	$('#rpg_control').click(function(){
		window.location="/button?id=hci_rpc"
		window.location="/"
	});	

	$('#rpg_status').click(function(){
		window.location="/button?id=hci_status"
		window.location="/"
	});	
		

	$('#user_comms').click(function(){
		window.location="/button?id=hci_nb"
		window.location="/"
	});	

	$('#prf_control').click(function(){
		window.location="/button?id=hci_prf"
		window.location="/"
	});	

	$('#enviro_data').click(function(){
		window.location="/button?id=hci_wind"
		window.location="/"
	});
	
	$('#rpg_misc').click(function(){
		window.location="/button?id=hci_misc"
		window.location="/"
	});	
});
</script>

</%block>

###
### body
###



<div id="content">
<div data-role="navbar">
	<ul>
		<li><div style="font-size:12px;background-color:#DCDBD6;font-weight:bold" class="contain-clock"><div style="text-align:center" id="clockbox-date"></div><div style="text-align:center" class="center" id="clockbox-time"></div></div></li>
		<li><a rel="external" id="88D-ops" style="color:white" class="nav-item control-shadow" href="/operations">WSR-88D Operations</a></li>
		<li><a rel="external" style="color:white" class="nav-item control-shadow" href="/shift_change_checklist">Shift Change Checklist</a></li>
		<li><a id="prf_control" style="color:white" class="nav-item control-shadow" href="#">PRF Control</a></li>
		<li><a id="enviro_data" style="color:white" class="nav-item control-shadow" href="#">Environmental Data</a></li>
	</ul>
</div>

<a id="popup-link" data-transition="pop" href="#popupDialog" data-rel="popup" data-position-to="window"></a>
<div data-role="popup" id="popupDialog" data-dismissible="false">
	<div class="ui-corner-top ui-header ui-bar-a" data-theme="a" data-role="header" role="banner">
		<h1 class="ui-title" role="heading">Confirm Action</h1>

	</div>
	<div class="ui-corner-bottom ui-content ui-body-d" data-theme="d" data-role="content" role="main">
		<h3 id="id-confirm" class="ui-title"></h3>
		<a id="pop-cancel"class="ui-btn ui-btn-up-c ui-shadow ui-btn-corner-all-ui-btn-inline" data-theme="c" data-rel="back" data-inline="true" data-role="button" href="#" data-corners="true" data-shadows="true" data-iconshadow="true" data-wrapperrels="span">Cancel</a>
		<a id="pop-confirm" class="ui-btn ui-btn-up-b ui-shadow ui-btn-corner-all-ui-btn-inline" data-theme="b" data-transition="flow" data-rel="back" data-inline="true" data-role="button" href="#" data-corners="true" data-shadows="true" data-iconshadow="true" data-wrapperrels="span">Confirm</a>
	</div>
</div>

    <div class="ui-body ui-body-a ui-corner-all center main-body" style="width:97%;background-color:#4bacc6" >
	<div class="ui-grid-b">
		<div class="ui-block-a ui-btn ui-btn-inline ui-btn-notext ui-corner-all" style="background-color:#4bacc6">
			<div class="ui-grid-a" style="width:100%;float:left">
				<div class="ui-block-a">
					<div style="font-size:11px"class="bar-border1">State:</div>
					<div style="font-size:11px"class="bar-border1">Oper:</div>
				</div>
				<div class="ui-block-b">
					<div id ="RDA_STATE" style="text-shadow:none;font-size:11px;background-color:red;color:black"class="bar-border2">UNKNOWN</div>
					<div id = "OPERABILITY_LIST" style="text-shadow:none;font-size:11px;background-color:red;color:black"class="bar-border2">UNKNOWN</div>
				</div>
			</div>
		<br><br>
		<canvas style="z-index:-1;position:relative;margin-bottom:-375px" class="radome" id="radome" width="300" height="400"></canvas><br>
			<div class="radome-selectors" id="RPG_SAILS_contain" style="position:relative;top:100px;left:35px;z-index:2">
				<select alt="SAILS" class="toggle" name="flip-mini" id="RPG_SAILS" data-role="slider">
					<option value="off">DISABLED</option>
					<option id="SAILSlabel" value="on">ENABLED</option>
				</select>	
			</div>
			<div class="radome-selectors" id="RS_AVSET_contain" style="position:relative;top:90px;left:35px;z-index:3">
				<select alt="AVSET" class="toggle" name="flip-mini" id="RS_AVSET" data-role="slider">
					<option value="off">DISABLED</option>
					<option value="on">ENABLED</option>
				</select>	
			</div>

					<div class="center" style="position:relative;top:145px;z-index:2;width:25%;">
						<div class="ui-grid-a center" style="width: 100%;">
							<div class="ui-block-a">
								<div id="TPS_STATUS_label" style="font-size:11px" class="bar-border1">TPS:</div>
							</div>
							<div class="ui-block-b">
								<div id="TPS_STATUS" style="text-shadow:none;font-size:11px;background-color:#ff0000;color:black"class="bar-border2">N/A</div>
							</div>
						</div>
						</div>
						
					<div id="gen_state" style="position:relative;top:455px;left:-130px;z-index:4;font-size:12px;transform:rotate(-90deg)">
				<meter id="gen_level" max=100 min=0 value=90 high=90 low =50 optimum=75 style="position:relative;left:50px;display:inline-block;height:60px;width:80px"></meter>
					<p id="gen_level_num" style="position:relative;left:-40px;top:-22px;transform:rotate(90deg);display:inline-block">N/A</p>
					<img style="height:80px;width:60px;position:relative;top:12px;left:30px;transform:rotate(90deg);display:inline-block" src='/static/gen_shelter.png'></img>
					</div>
					<div style="position:relative;top:-5px">
					<button id="RPG_COMMUN" class="rda-alarm-indicator">COM</button>
					<button id="RDA_CONTROL" class="rda-alarm-indicator">CTR</button>
					<button id="PEDESTAL" class="rda-alarm-indicator">PED</button>
					<button id="RECV" class="rda-alarm-indicator">RCV</button>
					<button id="SIGPROC" class="rda-alarm-indicator">SIG</button>
					<button id="TOW_UTIL" class="rda-alarm-indicator">UTL</button>
					<button id="TRANSMITTER"class="rda-alarm-indicator">XMT</button>
					</div>
				<div style="position:relative;left:10px;margin-top:-142px">
				<div id="grid1" class="center" style="position:relative;z-index:2;background-color:#51FF22;float:center;display:inline-block;width:56%;height:290px;border:5px outset black">
						<p id="grid1title" style="color:black">RDA</p>
						<ul data-role="listview" data-inset="true" data-theme="e">
				<li><a id="rda_control" class="control-item control-shadow" style="color:white;text-align:center" href="#" data-rel="dialog">Control</a></li>
				<li><a id="rda_perf" style="color:white;font-size:14px;text-align:center"class="control-item control-shadow" href="#" data-rel="popup">Performance<br> Data</a></li>
				<li><a id="rda_alarms" style="color:white;text-align:center"class="control-item control-shadow" href="#" data-rel="popup">Alarms</a></li>
				<ul>

				</div>
								
			<div style="display:inline-block;color:black;position:relative;z-index:4;top:-26px;">
			    <div id="link_R" style="display:block;width:20px;height:22px;margin-left:-6px;position:relative;text-align:center;top:0px" class="normal-ops link-status-sq">R</div>	
					
			    <div id="link_V" style="display:block;width:20px;height:21px;margin-left:-6px;position:relative;text-align:center;top:0px" class="normal-ops link-status-sq">V</div>
					
			    <div id="link_W" style="display:block;width:20px;height:21px;margin-left:-6px;position:relative;text-align:center;top:0px" class="normal-ops link-status-sq">W</div>
					
			    <div id="link_D" style="display:block;width:20px;height:22px;margin-left:-6px;position:relative;text-align:center;top:0px" class="normal-ops link-status-sq">D</div>
			</div>

				</div>
				</div>
			    <div id="link" style="font-weight:bold;color:black;text-shadow:none;display:inline-block;width:25%;height:100%;position:relative;left:-395px;top:390px;font-size:13px;z-index:1">				       <p id="CONTROL_STATUS" style="position:relative;top:10px" class="center">N/A</p>
				<div class="rpg-border" style="margin-left:-2px;position:relative;z-index:6"></div>
					<br><br><br><br><br><br>
					<div style="text-align:center" class="bar-border link-statusR link-status status0" id="squaresWaveG_long">
							<div id="squaresWaveG_long_1" class="squaresWaveG_long"></div>
							<div id="squaresWaveG_long_2" class="squaresWaveG_long"></div>
							<div id="squaresWaveG_long_3" class="squaresWaveG_long"></div>
							<div id="squaresWaveG_long_4" class="squaresWaveG_long"></div>
							<div id="squaresWaveG_long_5" class="squaresWaveG_long"></div>
							<div id="squaresWaveG_long_6" class="squaresWaveG_long"></div>
							<div id="squaresWaveG_long_7" class="squaresWaveG_long"></div>
							<div id="squaresWaveG_long_8" class="squaresWaveG_long"></div> 
					</div>
					<div style="text-align:center" class="bar-border link-statusV link-status status1" id="squaresWaveG_long">
							<div id="squaresWaveG_long_1" class="squaresWaveG_long"></div>
							<div id="squaresWaveG_long_2" class="squaresWaveG_long"></div>
							<div id="squaresWaveG_long_3" class="squaresWaveG_long"></div>
							<div id="squaresWaveG_long_4" class="squaresWaveG_long"></div>
							<div id="squaresWaveG_long_5" class="squaresWaveG_long"></div>
							<div id="squaresWaveG_long_6" class="squaresWaveG_long"></div>
							<div id="squaresWaveG_long_7" class="squaresWaveG_long"></div>
							<div id="squaresWaveG_long_8" class="squaresWaveG_long"></div> 
					</div>	
					<div style="text-align:center" class="bar-border link-statusW link-status status2" id="squaresWaveG_long">
							<div id="squaresWaveG_long_1" class="squaresWaveG_long"></div>
							<div id="squaresWaveG_long_2" class="squaresWaveG_long"></div>
							<div id="squaresWaveG_long_3" class="squaresWaveG_long"></div>
							<div id="squaresWaveG_long_4" class="squaresWaveG_long"></div>
							<div id="squaresWaveG_long_5" class="squaresWaveG_long"></div>
							<div id="squaresWaveG_long_6" class="squaresWaveG_long"></div>
							<div id="squaresWaveG_long_7" class="squaresWaveG_long"></div>
							<div id="squaresWaveG_long_8" class="squaresWaveG_long"></div> 
					</div>   
					<div style="text-align:center" class="bar-border link-statusD link-status status3" id="squaresWaveG_long">
							<div id="squaresWaveG_long_1" class="squaresWaveG_long"></div>
							<div id="squaresWaveG_long_2" class="squaresWaveG_long"></div>
							<div id="squaresWaveG_long_3" class="squaresWaveG_long"></div>
							<div id="squaresWaveG_long_4" class="squaresWaveG_long"></div>
							<div id="squaresWaveG_long_5" class="squaresWaveG_long"></div>
							<div id="squaresWaveG_long_6" class="squaresWaveG_long"></div>
							<div id="squaresWaveG_long_7" class="squaresWaveG_long"></div>
							<div id="squaresWaveG_long_8" class="squaresWaveG_long"></div> 
					</div>
				</div>



			
	    <div class="ui-block-b ui-btn ui-btn-inline ui-btn-notext ui-corner-all" style="background-color:#4bacc6">
					<br>
					<div class="center" style="width: 80%;display: table;">
						<div style="display: table-row">
						<div style="font-size:11px;width: 0px; display: table-cell;"><div class="contain-gray">H Delta dBZ0:</div></div>
						<div style="font-size:11px;display: table-cell;"><div id="h_delta_dbz0" style="color:black" class="contain-white">N/A</div></div>
						</div>
						<div style="display: table-row">
						<div style="font-size:11px;width: 0px; display: table-cell;"><div class="contain-gray">V Delta dBZ0:</div></div>
						<div style="font-size:11px;display: table-cell;"><div id="v_delta_dbz0" style="color:black" class="contain-white">N/A</div></div>
						</div>
						<div style="display: table-row">
						<div style="font-size:11px;width: 0px; display: table-cell;"><div class="contain-gray">Current Z-R:</div></div>
						<div style="font-size:11px;display: table-cell;"><div style="color:black" id="Z-R" class="contain-white">N/A</div></div>
						</div>
						<div style="display: table-row">
						<div style="font-size:11px;width: 0px; display: table-cell;"><div class="contain-gray">Current R(Z,ZDR):</div></div>
						<div style="font-size:11px;display: table-cell;"><div style="color:black" id="Z-ZDR" class="contain-white">N/A</div></div>
						</div>
					</div>
					<div class="ui-grid-a">
						<a rel="external" class="ui-block-a" style="text-decoration : none; color : #000000;" href="/VCP">
							<button type="button" style="font-size:40px;background-color:#DCDBD6" data-theme="b">VCP</button>
						</a>
						<a rel="external" class="ui-block-b" style="text-decoration : none; color : #000000;" href="/VCP">
							<button id="RS_VCP_NUMBER" type="button" style="font-size:40px;background-color:white" data-theme="b">N/A</button>
						</a>
					</div>
					<p id="VCP_start_date" style="font-size:14px;color:black;display:inline-block"></p><p id="VCP_start_time" style="font-size:14px;color:black;display:inline-block"></p>
					<div class="ui-grid-a center" style="width: 80%;">
						<div class="ui-block-a">
							<div style="font-size:11px"class="bar-border1">Perf. Check in</div>
						</div>
						<div class="ui-block-b">
							<a id="perf_check_time_link" href="#"><div id="perf_check_time" style="font-size:11px"class="bar-border2">-9999</div></a>
						</div>
					</div>
					<br>
					
					
					<div class="ui-grid-a center" style="width:60%;">
						<div class="ui-block-a">
							<div style="font-size:11px"class="bar-border1">State:</div>
							<div style="font-size:11px"class="bar-border1">Oper:</div>
						</div>
						<div class="ui-block-b">
							<div style="text-shadow:none;font-size:11px;background-color:red;color:black" id="RPG_state" class="bar-border2">N/A</div>
							<div style="font-size:11px;background-color:red;color:black"class="bar-border2"id="RPG_oper">N/A</div>
						</div>
					</div>
				<br>	


					<div class="ui-grid-c">
						<div class="ui-block-a"></div>
						<div class="ui-block-b">
						<div id="grid2" style="left:-5px;width:200%;position:relative;z-index:2;background-color:#51FF22;display:inline-block;height:325px;border:5px outset black ">
							<p style="color:black">RPG</p>
							<ul data-role="listview" data-inset="true">
								<li><a id="rpg_control" style="color:white;text-align:center" class="control-item control-shadow" href="#" data-rel="popup">Control</a></li>
								<li><a id="rpg_products" style="color:white;text-align:center"class="control-item control-shadow" href="#" data-rel="popup">Products</a></li>
								<li><a id="rpg_misc"style="color:white;text-align:center"class="control-item control-shadow" href="#" data-rel="popup">Misc</a></li>
								<li><a id="rpg_status"style="color:white;text-align:center"class="control-item control-shadow" href="#" data-rel="popup">Status</a></li>
							</ul>
							<br>
						</div>
						
	
						</div>
						<div class="ui-block-b">

					</div>
					</div>
				</div>
	    <div class="ui-block-c ui-btn ui-btn-inline ui-btn-notext ui-corner-all" style="margin-top:-230px;background-color:#4bacc6">
	
		<div id="PRF_Mode_block" class="ui-grid-b center">
			<div class="ui-block-a">
				<button type="button" style="height:40px;display:inline-block;font-size:12px;background-color:#DCDBD6" data-theme="b">PRF Mode</button>										</div>
			<div class="ui-block-c">	
				<div id="PRF_Mode_contain" style="display:block" class="containing-element">
					<select class="toggle" alt="PRF Mode"  name="flip-min" id="PRF_Mode" data-role="slider"data-theme="a">
						<option value="off">MANUAL</option>
						<option value="on">MULTI</option>
					</select>
				</div>
			</div>
		</div>

						<div class="ui-grid-a center" id="SAILS_Exception_contain">
							<div class="ui-block-a">
								<button type="button" style="display:inline-block;font-size:11px;background-color:#DCDBD6;" data-theme="b">SAILS</button>
							</div>
							<div class="ui-block-b">
								<div style="display:inline-block" class="containing-element-lg">
									<select alt="SAILS-Exception" class="toggle" name="flip-min" id="SAILS_Exception" data-role="slider"data-theme="a"data-mini="true">
										<option select value="off">DISABLED</option>
										<option value="on">ENABLED</option>
									</select>
								</div>
							</div>
						</div>
						<div class="ui-grid-a center" id="AVSET_Exception_contain">
							<div class="ui-block-a">
								<button type="button" style="display:inline-block;font-size:11px;background-color:#DCDBD6" data-theme="b">AVSET</button>
							</div>
							<div class="ui-block-b">
								<div style="display:inline-block" class="containing-element-lg">
									<select class="toggle" alt="AVSET-Exception"  name="flip-min" id="AVSET_Exception" data-role="slider"data-theme="a"data-mini="true">
										<option select value="off">DISABLED</option>
										<option value="on">ENABLED</option>
									</select>
								</div>
							</div>
						</div>
						<div class="ui-grid-a center" id="Mode_Conflict_status">
							<div class="ui-block-a">
								<button id="Mode_Conflict" type="button" style="font-size:11px;background-color:#DCDBD6" data-theme="b">Mode Conflict</button>                                                                                 </div>
							<div class="ui-block-b">
								<button id="Mode_Conflict_contain" type="button" style="font-size:11px;" data-theme="b">N/A</button>
							</div>
						</div>


						<div class="ui-grid-a center" id="Clear_Air_Switch_status">
							<div class="ui-block-a">
								<button type="button" style="font-size:11px;background-color:#DCDBD6" data-theme="b">Clear Air Switch</button>
							</div>
							<div class="ui-block-b">
								<div style="float:left" class="containing-element">
									<select alt="Clear_Air_Switch" class="toggle" name="flip-min" id="Clear_Air_Switch" data-role="slider"data-theme="a"data-mini="true">
										<option select value="off">MANUAL</option>
										<option value="on">AUTO</option>
									</select>
								</div>
							</div>
						</div>
						<div class="ui-grid-a center" id="Precip_Switch_status">
							<div class="ui-block-a">
								<button type="button" style="font-size:11px;background-color:#DCDBD6" data-theme="b">Precip Switch</button>
							</div>
							<div class="ui-block-b">
								<div style="float:left" class="containing-element">
									<select alt="Precip_Switch" class="toggle" name="flip-min" id="Precip_Switch" data-role="slider"data-theme="a"data-mini="true">
										<option select value="off">MANUAL</option>
										<option id="Precip_Switch_label" value="on">AUTO</option>
									</select>
								</div>
							</div>
						</div>
						<div class="ui-grid-a center" id="RS_SUPER_RES_status">
							<div class="ui-block-a">
								<button type="button" style="font-size:11px;background-color:#DCDBD6" data-theme="b">Super Res</button>
							</div>
							<div class="ui-block-b">
								<div id = "RS_SUPER_RES_contain"style="float:left" class="containing-element-lg">
									<select alt="Super-Res" class="toggle" name="flip-min" id="RS_SUPER_RES" data-role="slider"data-theme="a"data-mini="true">
										<option value="off">DISABLED</option>
										<option value="on">ENABLED</option>
									</select>
								</div>
							</div>
						</div>
						<div class="ui-grid-a center" id="RS_CMD_status">
							<div class="ui-block-a">
								<button type="button" style="font-size:11px;background-color:#DCDBD6" data-theme="b">CMD</button>
							</div>
							<div class="ui-block-b">
								<div id="RS_CMD_contain" style="float:left" class="containing-element-lg">
									<select alt="CMD" class="toggle" name="flip-min" id="RS_CMD" data-role="slider"data-theme="a"data-mini="true">
										<option select value="off">DISABLED</option>
										<option value="on">ENABLED</option>
									</select>
								</div>
							</div>
						</div>
						<div class="ui-grid-a">
							<div class="ui-block-a" id="Model_Update_contain">
								<div class="ui-grid-a">
									<div class="ui-block-a">
										<button type="button" id="Model_Update_button" style="font-size:10px;background-color:#DCDBD6" data-theme="b">Model Update</button>
									</div>
									<div class="ui-block-b">
										<select alt="Model Update" class="toggle" name="flip-min" id="Model_Update" data-role="slider"data-theme="a"data-mini="true">
											<option select value="off">OFF</option>
											<option value="on">ON</option>
										</select>
									</div>
								</div>
							</div>
							<div class="ui-block-b" id="VAD_Update_contain">
								<div class="ui-grid-a" >
									<div class="ui-block-a">
										<button type="button" id="VAD_Update_button" style="font-size:10px;background-color:#DCDBD6" data-theme="b">VAD Update</button>
									</div>
									<div class="ui-block-b">
										<select alt="VAD Update" class="toggle" name="flip-min" id="VAD_Update" data-role="slider"data-theme="a"data-mini="true">
											<option select value="off">OFF</option>
											<option value="on">ON</option>
										</select>
									</div>
								</div>
							</div>
						</div>




						
					<div id="grid3" style="position:relative;z-index:2;width:50%;display:inline-block;border:5px outset black;background-color:#51FF22">
						<p style="color:black">USERS</p>
						<ul data-role="listview" data-inset="true">
				<li><a id="user_comms" style="color:white;text-align:center"class="control-item control-shadow" href="#" data-rel="popup">Comms</a></li>
				<li><a id="user_messages"style="color:white;font-size:14px;text-align:center" class="control-item control-shadow" href="#" data-rel="popup">Console <br> Messages</a></li>
				</ul>
							<br>
					</div>
				</div>
						<div style="position:relative;z-index:1;left:-80px;top:-100px;display:inline-block" class="bar-border" id="squaresWaveG_long">
							<div id="squaresWaveG_long_1" class="squaresWaveG_long"></div>
							<div id="squaresWaveG_long_2" class="squaresWaveG_long"></div>
							<div id="squaresWaveG_long_3" class="squaresWaveG_long"></div>
							<div id="squaresWaveG_long_4" class="squaresWaveG_long"></div>
							<div id="squaresWaveG_long_5" class="squaresWaveG_long"></div>
							<div id="squaresWaveG_long_6" class="squaresWaveG_long"></div>
							<div id="squaresWaveG_long_7" class="squaresWaveG_long"></div>
							<div id="squaresWaveG_long_8" class="squaresWaveG_long"></div>
						</div>

				
	</div>
    </div>
</div>
						<br>
						<table data-role="table" class="ui-responsive">
							<thead>
								<tr>
			      <th style="float:right;font-size:14px">Feedback:</td>
			      <td id="marq1" style="background-color:white" class="bar-border">Jun 29,15 [14:25:33] >> Requesting the VCP to be restarted</td>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                      <th style="float:right;font-size:14px">Status:</th>
                                      <td class="bar-border">Jun 29,15 [14:25:39] >> Vol:3(Seq:3)RDA Clock:06/12/15 14:25:39 VCP:212 L2:6 DP SR SAILS</td>
                                    </tr>
								    <tr>
                                      <th style="float:right;font-size:14px">Alarms:</th>
                                      <td id="marq3" style="background-color:#51FF22" class="bar-border">Jun 29,15 [14:25:39] >> RPG ALARM CLEARED:[RDA:1] RDA <-> RPG COMMUNICATIONS LINK BROKEN</td>
                                    </tr>
								</tbody>
							</table>
	



	


